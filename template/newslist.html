{% include "head.html" %}
{% include "nav.html"%}
<style>
        body{background-color: #ffffff;}
</style>
<div class="content newslist" style="min-height:480px;">

    <h2>新闻列表</h2>

    <ul class="nu">
        {% if news %}
        {% if offset ==1 %}
        {% set k = offset %}
        {% else %}
        {% set k = (offset-1)*13 +1 %}
        {% end %}
        {% for i in news %}
        <li class="nlist">
            <a href="/news/{{i[0]}}"><span>{{k}}.</span><span class="title">{{i[1]}}</span><span class="dt">{{i[5]}}</span></a>

        {% set k+=1%}
            </li>
        {% end %}
        {% end %}
    </ul>
    <ul class="pagination">

        {% if pages and 1< pages <= 24 %}
        {% for i in range(1,pages+1) %}
            {% if i == offset %}
                    <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a></li>
                    {% else %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a></li>
                    {% end %}
            {% end %}
        {% end %}

        {% if pages and pages > 24 %}
        {# ------ #}
        <li><a href="/newslist/?offset={{1}}" class=""><<</a></li>

        {% if offset > 1%}
            <li><a href="/newslist/?offset={{offset-1}}" class=""><</a></li>
        {% end %}
        {% if offset < pages/3 %}
            {% if (pages/3 - offset) >6 and offset >9  %}
               {% for i in range(1,5) %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a>
                    {% end %}
                    <li><a href="javascript:;" class="empty">...</a>
                    {% for i in range(offset-2,offset+3) %}
                    {% if i == offset %}
                    <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a>
                    {% else %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a>
                    {% end %}
                    {% end %}
            {% elif (pages/3 - offset) > 6 and offset <=9  %}
                {% for i in range(1,offset+4) %}
                    {% if i == offset %}
                    <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a>
                    {% else %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a>
                    {% end %}
                {% end %}
        {% elif (pages/3 - offset) <= 6 and offset>9  %}
            {% for i in range(1,5) %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a>
                    {% end %}
                    <li><a href="javascript:;" class="empty">...</a>
                    {% for i in range(offset-3,offset+3) %}
                    {% if i == offset %}
                    <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a>
                    {% else %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a>
                    {% end %}
                    {% end %}
        {% elif (pages/3 - offset) <= 6 and offest <= 9  %}
            {% for i in range(1,offset+4) %}
                    {% if i == offset %}
                    <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a>
                    {% else %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a>
                    {% end %}
                {% end %}
    {% end %}

        <li><a href="javascript:;" class="empty">...</a></li>

        {% for i in range(pages/2-3,pages/2+3) %}
            <li><a href="/newslist/?offset={{i}}">{{i}}</a></li>
        {% end %} {# end for #}
        <li><a href="javascript:;" class="empty">...</a></li>

        {% for i in range(pages-3,pages+1) %}
            <li><a href="/newslist/?offset={{i}}">{{i}}</a></li>
        {% end %}
        {% end %} {# end if offset 1/3 #}

        {# ------ #}

        {# 1/3 ~ 2/3 part #}
        {% if pages/3 <= offset <= pages/3*2 %}
        {% for i in range(1,5) %}
            <li><a href="/newslist/?offset={{i}}">{{i}}</a></li>
        {% end %}{# end for #}

        <li><a href="javascript:;" class="empty">...</a></li>

        {% for i in range(offset-3,offset+4) %}
        {% if i == offset %}
            <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a></li>
            {% else %}
        <li><a href="/newslist/?offset={{i}}">{{i}}</a></li>
        {% end %} {# end if #}

        {% end %} {# end for #}
        <li><a href="javascript:;" class="empty">...</a></li>

        {% for i in range(pages-3,pages+1) %}
            <li><a href="/newslist/?offset={{i}}">{{i}}</a></li>
        {% end %} {# end for #}
        {% end %} {# end if offset 2/3 #}

        {# ------ #}

        {# pages-3 part #}
        {% if pages/3*2 < offset <= pages %}
        {% for i in range(1,6) %}
            {% if i == offset %}
            <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a></li>
            {% else %}
            <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a></li>
            {% end %}
        {% end %}
        <li><a href="javascript:;" class="empty">...</a></li>

        {% for i in range(pages/2-3,pages/2+3) %}
            {% if i == offset %}
            <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a></li>
            {% else %}
            <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a></li>
            {% end %}
        {% end %} {# end for #}
        <li><a href="javascript:;" class="empty">...</a></li>

        {% if pages - offset < 6 %}
            {% for i in range(offset-2,pages+1) %}
            {% if i == offset %}
                <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a></li>
            {% else %}
                <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a></li>
            {% end %}
            {% end %}
        {% else %}
            {% for i in range(offset-2,offset+2) %}
                {% if i == offset %}
                <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a></li>
                {% else %}
                <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a></li>
                {% end %}
            {% end %}
            <li><a href="javascript:;" class="empty">...</a></li>
            {% for i in range(pages-3,pages+1) %}
                {% if i == offset %}
                    <li><a href="/newslist/?offset={{i}}" class="active">{{i}}</a></li>
                {% else %}
                    <li><a href="/newslist/?offset={{i}}" class="">{{i}}</a></li>
                {% end %}
            {% end %} {# end for #}

        {% end %}


        {% end %} {# end if if 2/3*pages<= offset <= pages% #}
        {% if offset < pages %}
        <li><a href="/newslist/?offset={{offset+1}}" class="">> </a></li>
        {% end %}
        <li><a href="/newslist/?offset={{pages}}" class="">>></a></li>
        {% end %} {# end if pages #}
    </ul>




</div>

{% include "apply_for_account.html" %}
{% include "footer.html" %}

